rm(list = ls())
MyData <- read.csv("../Data/EcolArchives-E089-51-D1.csv")
str(MyData)
require(ggplot2)
setwd("/users/zhaozitong/documents/cmeecoursework/week3/code")
MyData <- read.csv("../Data/EcolArchives-E089-51-D1.csv")
str(MyData)
require(ggplot2)
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Predator mass")
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
qplot(log(Predator.mass), data = MyData)
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Predator mass")
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
qplot(log(Predator.mass), data = MyData)
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Predator mass")
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
qplot(log(Predator.mass), data = MyData)
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Predator mass")
pdf("../Results/Pred_Subplots.pdf")
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Predator mass")
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
qplot(log(Predator.mass), data = MyData)
graphics.off();
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count",
col = rgb(1, 0, 0, 0.5), main = "Predator mass")
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count",
col = rgb(1, 0, 0, 0.5), main = "Predator mass",
color = Type.of.feeding.interaction)
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count",
col = rgb(1, 0, 0, 0.5), main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
pdf("../results/Pred_Subplots.pdf",width = 5, height = 10)
par(mfcol=c(5,2))
hist(log(piscivorous$Predator.mass),
xlab="Body Mass(g)", ylab="Count", col = "red", main = "Predacious")
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
ggplot(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
ggplot(logPredator,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
logPredator <- log(MyData$Predator.mass)
logPrey <- log(MyData$Prey.mass)
Ratio <- MyData$Prey.mass/MyData$Predator.mass
logRatio <- log(Ratio)
ggplot(logPredator,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
qplot(logPredator,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
qplot(logPredator,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction)
hist(log(MyData$Predator.mass),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
col = MyData$Type.of.feeding.interaction)
hist(MyData$Predator.mass,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
col = MyData$Type.of.feeding.interaction)
TempData = data.frame(data$Type.of.feeding.interaction, log_predator_mass, log_prey_mass, log_ratio)
TempData = data.frame(MyData$Type.of.feeding.interaction, log_predator_mass, log_prey_mass, log_ratio)
logPred <- log(MyData$Predator.mass)
TempData = data.frame(MyData$Type.of.feeding.interaction, logPred, logPrey, logRatio)
ggplot(TempData$logPred,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
col = MyData$Type.of.feeding.interaction) +
geom_histogram()
TempData = data.frame(MyData$Type.of.feeding.interaction, logPred, logPrey, logRatio)
ggplot(TempData$logPred,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
col = MyData$Type.of.feeding.interaction) +
geom_histogram()
View(TempData)
ggplot(TempData$logPred, x = logPred
xlab="Body Mass (g)", ylab="Count",
ggplot(TempData$logPred, x = TmepData$logPred
xlab="Body Mass (g)", ylab="Count",
ggplot(TempData$logPred, x = TmepData$logPred,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
col = MyData$Type.of.feeding.interaction) +
geom_histogram()
rlang::last_error()
ggplot(TempData$logPred, x = TmepData$logPred,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram()
ggplot(TempData$logPred,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram(TempData$logPred)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram(TempData$logPred)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram(aes(x=TempData$logPred))
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred))
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred),bins = 30)
pdf("../Results/Pred_Subplots.pdf")
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = MyData$Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred),bins = 30)
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
qplot(log(Predator.mass), data = MyData)
graphics.off();
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred),bins = 30)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred),bins = 30,color = Type.of.feeding.interaction)
ggplot
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred),bins = 30, color = TempData$Type.of.feeding.interaction)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred), color = TempData$Type.of.feeding.interaction)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_point(aes(x=logPred), color = TempData$Type.of.feeding.interaction)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred), color = TempData$Type.of.feeding.interaction)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass",
color = Type.of.feeding.interaction) +
geom_histogram(aes(x=logPred), bins =30)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = Type.of.feeding.interaction), bins =30)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = TempData$Type.of.feeding.interaction), bins =30)
ggplot(TempData,
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = TempData$Type.of.feeding.interaction,fill ="white"), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = TempData$Type.of.feeding.interaction, fill ="white"), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = TempData$Type.of.feeding.interaction,
fill =Type.of.feeding.interaction), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = TempData$Type.of.feeding.interaction,
fill = TempData$Type.of.feeding.interaction), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = TempData$Type.of.feeding.interaction,
fill = TempData$Type.of.feeding.interaction), bins =30)+
scale_fill_manual(values = c(1,2))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = MyData$Type.of.feeding.interaction,
fill = MyData$Type.of.feeding.interaction), bins =30)+
scale_fill_manual(values = c(1,2))
TempData = data.frame(Type.of.feeding.interaction, logPred, logPrey, logRatio)
TempData = data.frame(feeding, logPred, logPrey, logRatio)
feeding <- MyData$Type.of.feeding.interaction
TempData = data.frame(feeding, logPred, logPrey, logRatio)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding,
fill = feeding), bins =30)+
scale_fill_manual(values = c(1,2))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding,
fill = feeding), bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding,
fill = feeding), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding,
alpha = 0.4
fill = feeding), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding,
alpha = 0.4,
fill = feeding), bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding),
alpha = 0.4,
fill = feeding, bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill="white"),
alpha = 0.4,
bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding),
alpha = 0.4,
bins =30)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))
hist(log(data$Prey.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Prey mass")
legend('topleft',c('Prey'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
hist(log(dMyData$Prey.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Prey mass")
hist(log(MyData$Prey.mass),
xlab="Body Mass (g)", ylab="Count", col = rgb(1, 0, 0, 0.5), main = "Prey mass")
legend('topleft',c('Prey'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding(title = "Type.of.feeding.interaction")),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
legend('topleft',c('Predators'), # Add legend
fill=c(rgb(1, 0, 0, 0.5)))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding(title = "Type.of.feeding.interaction")),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))
TempData = data.frame(feeding, logPred, logPrey, logRatio)
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding(title = "Type.of.feeding.interaction")),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
scale_fill_discrete(name="Type.of.feeding.interaction")
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill=feeding(title = NULL)),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
scale_fill_discrete(name="Type.of.feeding.interaction")
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding(title = NULL)),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
scale_fill_discrete(name="Type.of.feeding.interaction")
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding(title = NULL)),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
theme(legend.title=element_blank())+
scale_fill_discrete(name="Type.of.feeding.interaction")
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))+
theme(legend.title=element_blank())+
scale_fill_discrete(name="Type.of.feeding.interaction")
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(1,2,3,4,5))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(6,2,3,4,5))
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
pdf("../Results/Pred_Subplots.pdf")
ggplot(TempData,aes(x=logPred),
xlab="Body Mass (g)", ylab="Count",
main = "Predator mass") +
geom_histogram(aes(x=logPred, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
graphics.off();
ggplot(TempData,aes(x=logPrey),
xlab="Body Mass (g)", ylab="Count",
main = "Prey mass") +
geom_histogram(aes(x=logPrey, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
pdf("../Results/Prey_Subplots.pdf")
ggplot(TempData,aes(x=logPrey),
xlab="Body Mass (g)", ylab="Count",
main = "Prey mass") +
geom_histogram(aes(x=logPrey, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
graphics.off()
ggplot(TempData,aes(x=logratio),
xlab="Body Mass (g)", ylab="Count",
main = "Size Ratio of prey mass and predator mass") +
geom_histogram(aes(x=logRatio, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
pdf("../Results/Prey_Subplots.pdf")
ggplot(TempData,aes(x=logPrey),
xlab="Body Mass (g)", ylab="Count",
main = "Prey mass") +
geom_histogram(aes(x=logPrey, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
graphics.off()
pdf("../Results/SizeRatio_Subplots.pdf")
ggplot(TempData,aes(x=logratio),
xlab="Body Mass (g)", ylab="Count",
main = "Size Ratio of prey mass and predator mass") +
geom_histogram(aes(x=logRatio, color = feeding, fill = feeding),
alpha = 0.4,
bins =30)+
scale_fill_manual(values = c(2,3,4,5,6))
graphics.off()
Data <- data.frame(logPred, logPrey, ratio, logRatio)
Data <- data.frame(logPred, logPrey, Ratio, logRatio)
write.csv(Data, file = "../Results/PP_Results.csv")
View(TempData)
View(TempData)
require(tidyverse)
Data <- gather(TempData, key="feeding",value = "Count")
View(Data)
Data <- spread(TempData, key="feeding",value = "Count")
Data <- data.frame(logPred, logPrey, Ratio, logRatio)
write.csv(Data, file = "../Results/PP_Results.csv")
require(ggplot2)
qplot(Prey.mass, Predator.mass, data = MyDF)
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
qplot(Prey.mass, Predator.mass, data = MyDF)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, colour = Type.of.feeding.interaction)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, colour = Type.of.feeding.interaction, asp = 1)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF,
shape = Type.of.feeding.interaction, asp = 1)
qplot(log(Prey.mass), log(Predator.mass),
data = MyDF, colour = "red")
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, colour = I("red"))
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, size = 3) #with ggplot size mapping
qplot(log(Prey.mass), log(Predator.mass),  data = MyDF, size = I(3)) #no mapping
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, shape = 3)
qplot(log(Prey.mass), log(Predator.mass), data = MyDF, shape = 3)
rm(list=ls())
load("../Data/GPDDFiltered.RData")
map(database = "world", fill = TRUE, bg = "white", ylim = c(-80, 100), border = "white",panel.first = grid())
points(x = gpdd$long, y = gpdd$lat, col = "blue")
library(ggplot2)
library(maps)
install.packages("maps")
install.packages("maps")
load("../Data/GPDDFiltered.RData")
map(database = "world", fill = TRUE, bg = "white", ylim = c(-80, 100), border = "white",panel.first = grid())
install.packages(maps)
library(maps)
map(database = "world", fill = TRUE, bg = "white", ylim = c(-80, 100), border = "white",panel.first = grid())
points(x = gpdd$long, y = gpdd$lat, col = "blue")
